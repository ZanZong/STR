WARNING:tensorflow:From ../run_training.py:46: The name tf.RunOptions is deprecated. Please use tf.compat.v1.RunOptions instead.

WARNING:tensorflow:From ../run_training.py:47: The name tf.RunMetadata is deprecated. Please use tf.compat.v1.RunMetadata instead.

/home/zongzan/.conda/envs/STR36/lib/python3.6/site-packages/tensorflow_core/python/keras/datasets/imdb.py:129: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (which is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to do this, you must specify 'dtype=object' when creating the ndarray
  x_train, y_train = np.array(xs[:idx]), np.array(labels[:idx])
WARNING:tensorflow:From /home/zongzan/.conda/envs/STR36/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /home/zongzan/.conda/envs/STR36/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:119: calling RandomUniform.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
WARNING:tensorflow:From /home/zongzan/dist_dnn_training/STR/runtime/transformer_model.py:69: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /home/zongzan/.conda/envs/STR36/lib/python3.6/site-packages/tensorflow_core/python/ops/stropt/lms.py:970: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

1 Physical GPUs, 1 Logical GPUs
Parsing arguments: [('batch_size', 210), ('epochs', 1), ('model_name', 'transformer'), ('profile', False), ('strategy', 'none'), ('verbose', False)]
Using original tensorflow without memory optimization
[STR DEBUG] Parsing STR configuration: [{'strategy': 'none', 'verbose': 'false'}]
[STR DEBUG] Solution type none doesn't has corresponding optimizations, run normal training
Train on 15 samples
 1/15 [=>............................] - ETA: 2:22 - loss: 0.6932 - acc: 0.4623 2/15 [===>..........................] - ETA: 1:09 - loss: 0.6931 - acc: 0.5000 3/15 [=====>........................] - ETA: 45s - loss: 0.6930 - acc: 0.5126  4/15 [=======>......................] - ETA: 32s - loss: 0.6929 - acc: 0.5188 5/15 [=========>....................] - ETA: 24s - loss: 0.6929 - acc: 0.5226 6/15 [===========>..................] - ETA: 19s - loss: 0.6928 - acc: 0.5251 7/15 [=============>................] - ETA: 15s - loss: 0.6927 - acc: 0.5269 8/15 [===============>..............] - ETA: 12s - loss: 0.6926 - acc: 0.5282 9/15 [=================>............] - ETA: 9s - loss: 0.6926 - acc: 0.5293 10/15 [===================>..........] - ETA: 7s - loss: 0.6925 - acc: 0.530111/15 [=====================>........] - ETA: 5s - loss: 0.6924 - acc: 0.530812/15 [=======================>......] - ETA: 4s - loss: 0.6924 - acc: 0.531413/15 [=========================>....] - ETA: 2s - loss: 0.6923 - acc: 0.531914/15 [===========================>..] - ETA: 1s - loss: 0.6922 - acc: 0.5323WARNING:tensorflow:Early stopping conditioned on metric `val_loss` which is not available. Available metrics are: loss,acc
15/15 [==============================] - 18s 1s/step - loss: 0.6922 - acc: 0.5326
